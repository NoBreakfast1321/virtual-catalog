#!/usr/bin/env bash

set -e  # Exit immediately if any command fails

echo "ðŸ”§ Formatting controllers..."
bundle exec stree write "app/controllers/**/*.rb"
bundle exec rubocop -A "app/controllers/**/*.rb"

echo "ðŸ”§ Formatting migrations..."
bundle exec stree write "db/migrate/**/*.rb"
bundle exec rubocop -A "db/migrate/**/*.rb"

echo "ðŸ”§ Formatting models..."
bundle exec stree write "app/models/**/*.rb"
bundle exec rubocop -A "app/models/**/*.rb"

echo "ðŸ”§ Formatting routes.rb..."
bundle exec stree write "config/routes.rb"
bundle exec rubocop -A "config/routes.rb"

echo "ðŸ”§ Formatting views (ERB)..."
bundle exec stree write --plugins=erb "app/views/**/*.erb"

# Done
echo "âœ… Formatting completed successfully!"
